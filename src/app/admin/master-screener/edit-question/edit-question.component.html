<app-bread-crumb class="col col-12">
  <app-edit-question-toolbar-controls class="col col-12"></app-edit-question-toolbar-controls>
</app-bread-crumb>
<app-edit-question-display-controls
  (toggleKeys)="keyToggle($event)"
  (toggleControlType)="controlTypeToggle($event)"
  (toggleQuestionType)="questionTypeToggle($event)"
  (toggleExpand)="expandToggle($event)"
  (toggleLabel)="labelToggle($event)"
  (toggleErrors)="errorsToggle($event)"
  [showErrors]="showErrors"
  [showControlType]="showControlType"
  [showQuestionType]="showQuestionType"
  [showLabel]="showLabel"
  [showKeys]="showKeys"
  [showExpand]="showExpand">
</app-edit-question-display-controls>
<md-card class="col col-12 overview-wrapper">
  <app-question-errors 
    (errorClick)="focusOnError($event)" 
    *ngIf="showErrors">
  </app-question-errors>
  
  <div class="py3" *ngIf="showErrors"></div>
  <!-- possible abuse of safe navigation operator incoming --> 
  <!-- consider rewriting such that there is one component that relies on the observable 
       and thus only one subscription (this component can hold the others inside ie it is 
       a container) -->

  <app-edit-question-control-type 
    [controlType]="(editQuestion$ | async)?.controlType"
    [questionOptions]="(editQuestion$ | async)?.options"
    *ngIf="showControlType">
  </app-edit-question-control-type>

  <app-edit-question-type 
    [type]="(editQuestion$ | async)?.type"
    (booleanSelected)="showExpandedSection($event)"
    *ngIf="showQuestionType">
  </app-edit-question-type>
  
  <app-edit-question-label 
    [label]="(editQuestion$ | async)?.label"
    *ngIf="showLabel">
  </app-edit-question-label>
  
  <app-edit-question-key 
    [unusedKeys]="(availableKeys$ | async)"
    [currentKey]="(editQuestion$ | async)?.key"
    *ngIf="showKeys">
  </app-edit-question-key>
  
  <app-edit-question-expandable 
    [expandable]="(editQuestion$ | async)?.expandable"
    [controlType]="(editQuestion$ | async)?.controlType"
    [questionType]="(editQuestion$ | async)?.type"
    [conditionalQuestions]="(editQuestion$ | async)?.conditonalQuestions"
    [questionKey]="(editQuestion$ | async)?.key"
    *ngIf="showExpand">
  </app-edit-question-expandable>

  <div class="py2"></div>
</md-card>
