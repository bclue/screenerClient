<form [formGroup]="form" *ngIf="form !== null && form !== undefined">
  <div *ngIf="!form.valid">
    {{ form.errors }}
  </div>
  <i class="material-icons ng-valid" *ngIf="form.valid">check_circle</i> 
  <i class="material-icons ng-invalid" *ngIf="!form.valid">block</i>
  <div>
    <select (change)="changeKey($event)">
      <option disabled [value]="''"> key </option>
      <option 
        [selected]="form.get(['key', 'name']).value === key.name" 
        [value]="stringifyKey(key)" *ngFor="let key of (keys | async)" >{{ key.name }}</option>
    </select>
  </div>
  <div id="condition" [ngClass]="keyTypes">
    
    <md-button-toggle-group id="boolean-key-edit" formControlName="value" *ngIf="isBooleanKey | async">
      <md-button-toggle [value]="true"> true </md-button-toggle>
      <md-button-toggle [value]="false"> false </md-button-toggle>
    </md-button-toggle-group>  


    <section id="number-key-edit" *ngIf="isNumberKey | async">
      
      <select formControlName="qualifier">
        <option *ngFor="let qualifier of qualifiers" [value]="qualifier.value"> 
          {{ qualifier.display }}
        </option>
      </select>
      
      
      <md-input-container>
        <input mdInput formControlName="value"/>
      </md-input-container>

    </section>
  </div>
</form>
